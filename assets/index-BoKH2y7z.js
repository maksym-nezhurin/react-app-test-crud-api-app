import{A as u,r as l,j as e,u as h}from"./index-BvIyc-Ag.js";const d="https://article-api-application-53ee1404371a.herokuapp.com/",x=t=>{const{id:a}=t,s=localStorage.getItem("authToken"),o=new u({baseURL:`${d}/api/articles`,token:s}),[n,i]=l.useState(""),p=async r=>{r.preventDefault();try{await o.post(`${d}/api/articles/${a}/comments`,JSON.stringify({content:n}),{token:s}),i("")}catch(c){console.error("Error submitting comment:",c)}};return e.jsxs("form",{onSubmit:p,style:{margin:"1rem",backgroundColor:"grey",padding:"1rem",borderRadius:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx("textarea",{value:n,onChange:r=>i(r.target.value),placeholder:"Write a comment",required:!0}),e.jsx("button",{type:"submit",children:"Submit"})]})},g="https://article-api-application-53ee1404371a.herokuapp.com/",m=`${g}/api/articles`,f=()=>{const{id:t}=h(),[a,s]=l.useState(null),o=localStorage.getItem("authToken"),n=localStorage.getItem("userId"),i=new u({baseURL:m,token:o});return l.useEffect(()=>{(async r=>{const c=await i.get(`${m}/${t}`,{token:r});s(c)})(o)},[t]),a?e.jsx("div",{children:e.jsx("div",{className:"row",style:{display:"flex"},children:t&&e.jsxs("div",{children:[e.jsxs("h2",{children:["My id: ",n]}),e.jsx("h1",{children:a.title}),e.jsx("p",{children:a.content}),e.jsx(x,{id:t})]})})}):e.jsx("p",{children:"Loading article..."})};export{f as default};
